const botonRegistrar=document.querySelector("#botonRegistrar");function iniciarApp(){}function buscarEmpleado(e,o,i){const n=document.querySelector(e);document.querySelector(o),document.querySelector(i);n.addEventListener("input",()=>{obtenerEmpleado(e,o,i)})}async function obtenerEmpleado(e,o,i){const n=document.querySelector(e),t=document.querySelector(o),c=document.querySelector(i);if(""!==e.value)try{const e="http://localhost:3000/api/obtenerEmpleado?idEmp="+n.value,o=await fetch(e),i=await o.json();if(null!==i){const{nombre:e,apellidoPaterno:o,apellidoMaterno:a,extension:l}=i;t.value=l,c.value=e+" "+o+" "+a,n.style.outline="none",t.style.outline="none",c.style.outline="none"}else t.value="",c.value="",n.style.outline="1px solid red",t.style.outline="1px solid red",c.style.outline="1px solid red"}catch(e){console.log(e)}}async function obtenerSubclasificacion(){try{const e=document.querySelector("#idClasificacionProblema").value;console.log(e);const o=document.querySelector("#idSubclasificacionProblema"),i="http://localhost:3000/api/obtenerSubclasificacion?idClasificacion="+e,n=await fetch(i),t=await n.json();o.innerHTML="";const c=document.createElement("option");c.text="--Seleccionar--",c.selected=!0,c.disabled=!0,o.appendChild(c),t.forEach(e=>{const i=document.createElement("option"),{id:n,idClasificacion:t,descripcion:c}=e;i.text=c,i.value=n,o.appendChild(i)})}catch(e){console.log(e)}}function obtenerSubclasificacionAlInicio(){const e=document.querySelector("#idClasificacionProblema").value;setTimeout(()=>{$.isNumeric(e)&&obtenerSubclasificacion()},100)}function obtenerSubclasificacionIniciando(){const e=sessionStorage.getItem("idClasificacion");e&&setTimeout(()=>{$("#idSubclasificacionProblema").val(e).trigger("change")},200)}function getIdSubclasificacion(){const e=document.querySelector("#idSubclasificacionProblema").value;sessionStorage.setItem("idClasificacion",e)}document.addEventListener("DOMContentLoaded",(function(){setTimeout(()=>{obtenerEmpleado("#idEmpReporta","#extensionReporta","#nombreReporta"),obtenerEmpleado("#idEmpRequiere","#extensionRequiere","#nombreRequiere")},100),buscarEmpleado("#idEmpReporta","#extensionReporta","#nombreReporta"),buscarEmpleado("#idEmpRequiere","#extensionRequiere","#nombreRequiere"),obtenerSubclasificacionAlInicio(),obtenerSubclasificacionIniciando(),iniciarApp()})),$("#idClasificacionProblema").on("select2:select",obtenerSubclasificacion),$("#idSubclasificacionProblema").on("select2:select",getIdSubclasificacion);